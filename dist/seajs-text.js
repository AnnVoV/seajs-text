!function(e,t){function n(e){s[e.name]=e}function r(e){return e&&s.hasOwnProperty(e)}function c(e){for(var t in s)if(r(t)){var n=","+s[t].ext.join(",")+",";if(n.indexOf(","+e+",")>-1)return t}}function a(e,n){var r=t.ActiveXObject?new t.ActiveXObject("Microsoft.XMLHTTP"):new t.XMLHttpRequest;return r.open("GET",e,!0),r.onreadystatechange=function(){if(4===r.readyState){if(r.status>399&&r.status<600)throw new Error("Could not load: "+e+", status = "+r.status);n(r.responseText)}},r.send(null)}function u(e){e&&/\S/.test(e)&&(t.execScript||function(e){(t.eval||eval).call(t,e)})(e)}function i(e){return e.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")}function o(e){return e.replace(/\?.*$/,"")}var s={},f={};n({name:"text",ext:[".tpl",".html"],exec:function(e,t){u('define("'+e+'#", [], "'+i(t)+'")')}}),n({name:"json",ext:[".json"],exec:function(e,t){u('define("'+e+'#", [], '+t+")")}}),e.on("resolve",function(t){var n=t.id;if(!n)return"";var a,u;(u=n.match(/^(\w+)!(.+)$/))&&r(u[1])&&(a=u[1],n=u[2]);var i=e.resolve(n,t.refUri),o=i.replace(/\.(?:js|css)(\?|$)/,"$1");!a&&(u=o.match(/[^?]+(\.\w+)(?:\?|$)/))&&(a=c(u[1])),a&&(i=i.replace(/\.js(?=$|\?)/,""),f[i]=a),t.uri=i}),e.on("request",function(e){var t=f[e.uri];t&&(a(e.requestUri,function(n){s[t].exec(e.uri,n),e.callback()}),e.requested=!0)}),"object"==typeof process&&(a=function(e,t){t(require("fs").readFileSync(o(e),"utf8"))}),define("seajs-text",[],{})}(seajs,this);